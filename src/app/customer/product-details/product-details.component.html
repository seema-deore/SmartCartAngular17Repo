<div class="container py-5">
  <div class="row align-items-center">

    <!-- Left: Product Image -->
    <div class="col-md-6 mb-4 mb-md-0 text-center">
      <img src = {{product.productImageUrl}} alt="Product Image" class="img-fluid rounded shadow-sm" />
    </div>

    <!-- Right: Product Details -->
    <div class="col-md-6">
      <h2 class="fw-bold">{{product.productShortName}}</h2>
      <p class="text-muted">{{product.description}}</p>

      <!-- Price and Discount -->
      <div class="mb-3">
        <h4 class="text-success fw-bold">&#8377; {{product.productPrice}} 
          <small class="text-muted text-decoration-line-through fs-6 ms-2"> &#8377;{{product.productPrice + (product.productPrice *.25)}}</small>
          <span class="badge bg-danger ms-2">25% OFF</span>
        </h4>
      </div>

      <!-- Quantity Selector -->
      <div class="d-flex align-items-center mb-3">
        <label class="me-3 fw-semibold">Quantity:</label>
        <div class="input-group" style="width: 120px;">
          <button class="btn btn-outline-secondary" type="button" (click)="decreaseQty()">−</button>
          <input type="text" class="form-control text-center" [(ngModel)]="quantity" readonly>
          <button class="btn btn-outline-secondary" type="button" (click)="increaseQty()">+</button>
        </div>
      </div>

      <!-- Delivery Time -->
      <div class="mb-3">
        <span class="text-muted">Delivery in: <strong>3–5 days</strong></span>
      </div>

      <!-- Buy/Add to Cart Buttons -->
      <div class="d-flex gap-2">
        <button class="btn btn-primary px-4">Add to Cart</button>
        <button class="btn btn-outline-secondary px-4">Buy Now</button>
      </div>
    </div>

  </div>
</div>




<!-- Nav Tabs -->
<ul class="nav nav-tabs mb-3" id="productTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="desc-tab" data-bs-toggle="tab" data-bs-target="#desc" type="button" role="tab">Description</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab">Reviews</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="more-tab" data-bs-toggle="tab" data-bs-target="#more" type="button" role="tab">More Products</button>
  </li>
</ul>

<!-- Tab Panes -->
<div class="tab-content" id="productTabContent">
  <!-- Description -->
  <div class="tab-pane fade show active" id="desc" role="tabpanel">
    <p>This is the product description.</p>
  </div>

  <!-- Reviews -->
  <!-- product-detail.component.html -->

<!-- Reviews Tab Pane -->
<div class="tab-pane fade" id="reviews" role="tabpanel">

  <div class="row">
  <div class="col-lg-6">
    <h6>Customer Reviews</h6>

    <!-- List existing reviews -->
    <div *ngFor="let r of reviews" class="border p-3 mb-3 rounded">
      <strong>{{ r.name }}</strong>
      <small class="text-muted">({{ r.email }})</small>
      <span class="text-warning ms-2">
        <ng-container *ngFor="let star of [].constructor(r.rating)">&starf;</ng-container>
        <ng-container *ngFor="let star of [].constructor(5 - r.rating)">&star;</ng-container>
      </span>
      <p class="mb-0">{{ r.comment }}</p>
    </div>
</div>

    <!-- Add a new review -->
    <div class="col-lg-6">
      <h6>Add Your Review</h6>
      <form (ngSubmit)="addReview()" class="border p-3 rounded">
        <div class="mb-2">
          <input
            class="form-control"
            placeholder="Name"
            [(ngModel)]="newReview.name"
            name="name"
            required
          />
        </div>
        <div class="mb-2">
          <input
            type="email"
            class="form-control"
            placeholder="Email"
            [(ngModel)]="newReview.email"
            name="email"
            required
          />
        </div>
        <div class="mb-2">
          <textarea
            class="form-control"
            rows="2"
            placeholder="Your review"
            [(ngModel)]="newReview.comment"
            name="comment"
            required
          ></textarea>
        </div>
        <div class="mb-3">
          <label class="form-label">Rating:</label>
          <select
            class="form-select"
            [(ngModel)]="newReview.rating"
            name="rating"
            required
          >
            <option [ngValue]="5">5</option>
            <option [ngValue]="4">4</option>
            <option [ngValue]="3">3</option>
            <option [ngValue]="2">2</option>
            <option [ngValue]="1">1</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary btn-sm">Submit Review</button>
      </form>
    </div>
  </div>
</div>

  <!-- More Products -->
  <!-- In the "More Products" tab panel -->
<div class="tab-pane fade" id="more" role="tabpanel">
  <!-- <h5 class="mt-3">More Products from {{ currentProduct.category }}</h5> -->

  <div class="d-flex overflow-auto gap-3 mt-3 pb-2">
    <div
      *ngFor="let product of sameCategoryProducts"
      class="card"
      style="min-width: 160px; max-width: 160px;"
    >
      <img
        [src]="product.productImageUrl"
        class="card-img-top"
        alt="{{ product.name }}"
        style="height: 100px; object-fit: cover;"
      />
      <div class="card-body p-2">
        <h6 class="card-title mb-1" style="font-size: 14px">{{ product.productName }}</h6>
        <p class="text-success mb-0" style="font-size: 13px">&#8377;{{ product.productPrice }}</p>
      </div>
    </div>
  </div>
</div>

</div>
